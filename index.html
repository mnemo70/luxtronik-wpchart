<!DOCTYPE html>
<html>
<head>
    <title>wpchart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.js" type="text/javascript"></script>
    <script src="index.js" type="text/javascript"></script>
    <style>
        body {
            font-family: "Consolas"
        }
    </style>
</head>

<body>
    <div class="chart-container" style="width: 1000px; height: 400px">
        <canvas id="myChart" width="1000" height="400"></canvas>
    </div>
    <div>
        <div><label for="heatingEnd">Endpunkt: </label><input id="heatingEnd" type="text" size="8" maxlength="4" value="25.0"></div>
        <div><label for="heatingFoot">Fußpunkt: </label><input id="heatingFoot" type="text" size="8" maxlength="4" value="20.0"></div>
        <div><label for="heatingDelta">Delta: </label><input id="heatingDelta" type="text" size="8" maxlength="4" value="0"></div>
        <button onclick="updateGraph()">Update</button>
    </div>
<script>
function updateGraph() {
    const heatingEnd = parseFloat(document.getElementById("heatingEnd").value.trim());
    const heatingFoot = parseFloat(document.getElementById("heatingFoot").value.trim());
    const heatingDelta = parseFloat(document.getElementById("heatingDelta").value.trim());
    if(heatingEnd !== 'NaN' || heatingFoot !== 'NaN' || heatingDelta !== 'NaN') {
        if(myChart === null)
            initChart();
        updateChart(heatingEnd, heatingFoot, heatingDelta);
    }
    else
        window.alert("Ungültige Wertangaben! Bitte ändern.")
}

    updateGraph();
    </script>
</body>
</html>